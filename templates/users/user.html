<!-- templates/users/user.html -->

{% extends "layout.html" %}

{% block title %}User {{ user.username }}{% endblock %}

{% block content %}

<h2>User {{ user.username }}</h2>

{% for message in get_flashed_messages() %}
<p class="info">{{ message }}</p>
{% endfor %}

{% if user.has_image %}
<img src="/image/{{ user.id }}" alt="User {{ user.username }} image">
{% endif %}

{% if user.id == session.user_id %}
<p>
  <a href="/add_image">Add profile image</a>
</p>
{% endif %}

<p>
  User has created {{ datasets | count }} datasets
</p>

<h3>Datasets</h3>

<ul>
{% for dataset in datasets %}
  <li>
    <a href="/dataset/{{ dataset.id }}">{{ dataset.title }}</a>
    <br />
    ({{ dataset.created_at }})
  </li>  
{% endfor %}
</ul>

{% endblock %}
